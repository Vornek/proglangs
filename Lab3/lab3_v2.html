<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Hendelser med jQuery</title>
	<link rel="stylesheet" type="text/css" href="lab3_v2.css" />
	<script src="js/jquery-1.8.1.js"></script>
    <script>
	
	$(function() {
		// Definerer variablen canvas med referanse til objekt (i DOM) med id my_canvas
		var canvas = $('#my_canvas');

		// Beregner (x,y) posisjon til canvas DOM-element på siden
		var canvasPosition = {
			x: canvas.offset().left,
			y: canvas.offset().top
		};
		
		// Her "fanges" click hendelse opp med jQuery metoden
		// e refererer til hendelse (event) som da gir mulighet til å kalle tilgjengelige metoder
		canvas.on('click', function(e) {
		
		// Bruker pageX og pageY for å få posisjonen til mus i forhold til hele siden (ikke my_canvas)
			var mouse = {
				x: e.pageX - canvasPosition.x,
				y: e.pageY - canvasPosition.y
			}
		
		/*
		   Nå har du lokale koordinater i mouse.x og mouse.y som er beregnet i forhold til det lokale 
		   koordinatsystemet i my_canvas med (0,0) i det øverste venstre hjørne
		*/
			// Skriv koordinatene ut til console basert på lab3_v1
			// oppgave 2 a) besvares her
			$(document).onclick
			{
				console.log([mouse.x]+","+[mouse.y]);
				
				$("#xcanvas").addClass("xcanvas");
				$("#ycanvas").addClass("ycanvas");
				
				// Her skrives koordinatene ut til en <span> node
				// Man skriver til innerHTML og også legger på stil (farge osv.)
				// oppgave 2 b) besvares her
				
				document.getElementById("xcanvas").innerHTML=[mouse.x];
				document.getElementById("ycanvas").innerHTML=[mouse.y];
			}
		 
			
			return false;
		});
	}); 
	</script>
</head>
<body>

	<canvas id="my_canvas" width="200" height="200"></canvas>
	<!-- Oppgaveløsning skal implementeres her -->
	<p>Avstand fra den venstre kanten av Canvas er: <span id="xcanvas"></span></p>
	<p>Avstand fra den øverste kanten av Canvas er: <span id="ycanvas"></span></p>
	
</body>
</html>